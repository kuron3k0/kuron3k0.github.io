---
layout:     post
title:      "关于业务渗透的一点想法"
subtitle:   ""
date:       2018-09-17 13:14:00
author:     "kuron3k0"
header-img: "img/post-bg-rwd.jpg"
tags:
    - 杂谈
---


- <b>授权问题</b>

    >2016年乌云的关闭，跟授权无疑有很大的关系。那个时候的厂商都是被动的接受渗透的结果，而不是说我赋予你权限然后你去给我做渗透测试这样的方式，这里面就牵扯到很多利害关系，比如说我测试的范围是什么、什么是厂商想测的什么是厂商不想测的、要测到什么程度。<br>因此现今我们在做渗透的时候，必须要先跟相关部门拿到授权，商讨好相关细节，确认一切妥当，然后才可以开始实施测试。<br>


- <b>环境问题</b>

    >既然是测试，那么就应该在测试环境中进行，因为测试不管怎么说或多或少都是有风险的，万一因为测试导致业务受损的话，那就背离初衷了。<br>


- <b>业务架构</b>

    >测试之前，南哥就带我去旁听了一下关于此次IT系统的一些业务架构以及功能上的讲解。放在之前我可能会没这么重视，觉得渗透嘛，不就是技术上的问题，为什么还要花不短的时间去了解这些貌似无用的信息。但是后面通过自己的思考以及对之前项目文档进行参考发现，直接盲测实在太不全面，有点管中窥豹的感觉，例如有些漏洞是好几个缺陷组合在一起形成的，但是看单个而没有从整个业务逻辑上理解的话，是完全想不到会有这个漏洞的。<br>


- <b>关键数据</b>

    >一个系统的价值，很大程度是由它承载的数据来体现的，所以测试不同的系统，就需要了解其关键数据是什么，在测试的时候就可以着重关注涉及到这些关键数据的地方，这样找漏洞的时候也会有适当的倾斜。除了数据的业务属性外，数据的地域属性也需要进行关注，因为有了GDPR的存在，很多跨境的数据就会存在很多隐藏的问题。<br>


- <b>关于感觉和思路</b>

    >很多时候其实我们离漏洞就只有一步之遥，但是却没有把最后一扇门打开，因为在自己的认知中我觉得这是过不去的。<br>有一个很简单的例子，一个疑似DOM型的XSS，`<img src="{input here}">`，系统后台对输出进行了转义，尖括号和双引号都进行了HTML编码，走到这一步，如果是我的话只能放弃了，因为正常来说已经没有符号可以闭合前面这个双引号了。但是，当输入单引号的时候，不知道为什么被转成了双引号，而且还没有编码，于是产生了XSS。我无法揣测测试者当时的想法，只能归结于经验问题，很多时候理智告诉我们是不可能的，但是因为后台也是人写的，也会有无限种可能，所以我们做测试的时候，不要放弃任何一个测试的机会。<br>
